<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>—</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ciencia de datos</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Instalar R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="instalar-r.html">Instalar R</a>
    </li>
    <li>
      <a href="instalar-rtools.html">Instalar Rtools</a>
    </li>
    <li>
      <a href="recursos.html">Recursos de R</a>
    </li>
    <li>
      <a href="swirl.html">Aprender R con SWIRL</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Lenguaje R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="recursos.html">Recursos de R</a>
    </li>
    <li>
      <a href="Vectores.html">Vectores</a>
    </li>
    <li>
      <a href="estructuras-de-control.html">Estructuras de control</a>
    </li>
    <li>
      <a href="marcos-de-datos.html">Marcos de datos</a>
    </li>
    <li>
      <a href="marcos-de-datos-con-dplyr.html">Marcos de datos con dplyr</a>
    </li>
    <li>
      <a href="descargar-salvar-recuperar.html">Descargar / Salvar / Recuperar</a>
    </li>
    <li>
      <a href="valores-perdidos.html">Valores perdidos</a>
    </li>
    <li>
      <a href="directorios.html">Listar directorios</a>
    </li>
    <li>
      <a href="expresiones-regulares.html">Expresiones regulares</a>
    </li>
    <li>
      <a href="fechas.html">Fechas</a>
    </li>
    <li>
      <a href="muestras-aleatorias.html">Muestras aleatorias</a>
    </li>
    <li>
      <a href="graficos-ggplot2.html">Gráficos</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Obtener datos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="leer-hojas-excel.html">Leer hojas Excel</a>
    </li>
    <li>
      <a href="leer-ficheros-xml.html">Leer ficheros XML</a>
    </li>
    <li>
      <a href="leer-ficheros-html.html">Leer ficheros HTML</a>
    </li>
    <li>
      <a href="leer-twitter.html">Leer Twitter</a>
    </li>
    <li>
      <a href="leer-bases-de-datos-sql.html">Leer bases de datos SQL</a>
    </li>
    <li>
      <a href="leer-bases-de-datos-no-sql.html">Leer bases de datos No SQL</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R Studio
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="paquete-rmarkdown.html">R MarkDown</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Estadística
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ley-grandes-numeros.html">La ley de los grandes números</a>
    </li>
    <li>
      <a href="estadistica-descriptiva.html">Estadística descriptiva</a>
    </li>
    <li>
      <a href="prueba-t-student.html">La prueba t de Student</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">—</h1>

</div>


<p>Todo experimento consiste en realizar una actividad y, en el curso de ella, medir “algo”. Si repetimos el experimento muchas veces vamos obteniendo una muestra de resultados. A este número de veces que se repite el experimento se le llama “tamaño muestral” porque, al fin y al cabo, es el tamaño de la muestra.</p>
<p>Para un experimento que se repite 100 veces, la muestra podría ser, quizás, una de estas:</p>
<pre class="r"><code>m1_bin = rbinom(tamamu, size = 10, prob = 1/2)
m2_nor = rnorm(tamamu, mean = 5, sd = 1); m2_nor = round(m2_nor, 1);
m3_poi = rpois(tamamu, lambda = 5)

head(m1_bin, 10)</code></pre>
<pre><code>##  [1] 3 6 3 2 6 7 4 6 3 7</code></pre>
<pre class="r"><code>head(m2_nor, 10)</code></pre>
<pre><code>##  [1] 4.4 4.3 4.8 4.9 5.1 5.4 5.0 4.8 6.2 5.8</code></pre>
<pre class="r"><code>head(m3_poi, 10)</code></pre>
<pre><code>##  [1]  7 10  1  7  9  2  2  2  3  6</code></pre>
<p>La muestra se puede utilizar para estimar la “distribución” de la población dividiendo a ésta en clases de igual número de individuos y dando un valor mínimo y una valor máximo en cada clase, de manera creciente. Estos mínimos y máximos se llaman “cuantiles” y en R se obtienen con la función “quantile”. Los cuantiles de orden 4 o “cuartiles” de la primera muestra serían:</p>
<pre class="r"><code>quantile(m1_bin, probs = seq(0, 1, by=1/4))</code></pre>
<pre><code>##   0%  25%  50%  75% 100% 
##    1    4    5    6    9</code></pre>
<pre class="r"><code>#quantile(m2_nor, probs = seq(0, 1, by=1/4))
#quantile(m3_poi, probs = seq(0, 1, by=1/4))</code></pre>
<p>Entonces, a partir de la primera muestra estimamos que la población de la que se ha tomado tiene la siguiente distribución: un 25% de individuos que se mueve entre los valores 1 y 4; otro 25% se mueve entre 4 y 5; el siguiente 25% entre 5 y 6; y el restante 25% va de 6 a 9.</p>
<p>Mayor detalle de la distribución de la población dan los cuantiles de orden 10 o “deciles”, aún más detalle los cuantiles de orden 100 o “percentiles”, etc…</p>
<pre class="r"><code>quantile(m1_bin, probs = seq(0, 1, by=1/10))</code></pre>
<pre><code>##   0%  10%  20%  30%  40%  50%  60%  70%  80%  90% 100% 
##    1    3    4    4    5    5    6    6    6    7    9</code></pre>
<pre class="r"><code>quantile(m1_bin, probs = seq(0, 1, by=1/100))</code></pre>
<pre><code>##   0%   1%   2%   3%   4%   5%   6%   7%   8%   9%  10%  11%  12%  13%  14%  15% 
## 1.00 1.99 2.00 2.00 2.00 2.95 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 
##  16%  17%  18%  19%  20%  21%  22%  23%  24%  25%  26%  27%  28%  29%  30%  31% 
## 3.00 3.83 4.00 4.00 4.00 4.00 4.00 4.00 4.00 4.00 4.00 4.00 4.00 4.00 4.00 4.00 
##  32%  33%  34%  35%  36%  37%  38%  39%  40%  41%  42%  43%  44%  45%  46%  47% 
## 4.68 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 
##  48%  49%  50%  51%  52%  53%  54%  55%  56%  57%  58%  59%  60%  61%  62%  63% 
## 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.00 5.44 6.00 6.00 6.00 6.00 6.00 6.00 6.00 
##  64%  65%  66%  67%  68%  69%  70%  71%  72%  73%  74%  75%  76%  77%  78%  79% 
## 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 6.00 
##  80%  81%  82%  83%  84%  85%  86%  87%  88%  89%  90%  91%  92%  93%  94%  95% 
## 6.00 6.19 7.00 7.00 7.00 7.00 7.00 7.00 7.00 7.00 7.00 7.00 7.00 7.07 8.00 8.00 
##  96%  97%  98%  99% 100% 
## 8.00 8.00 8.02 9.00 9.00</code></pre>
<p>Existen distribuciones teóricas de las poblaciones muy estudiadas y resulta muy prometedor cuando la distribución estimada a partir de una muestra se ajusta “aproximadamente” a una de esas distribuciones teóricas.</p>
<p>La distribución de población, teórica, más importante es la “distribución normal” que en R se obtiene con la función “qnorm”.</p>
<p>Si comparamos los cuantiles de cada muestra con los cuantiles de la distribucion normal y son “parecidos” diremos que la muestra es “aproximadamente normal”. Pero a simple vista no es fácil decidirse sobre si hay parecido o no; ni siquiera en el caso de cuantiles de orden bajo:</p>
<pre class="r"><code>orden = 10
q1 = quantile(m1_bin, probs = seq(0, 1, by=1/orden), names = FALSE)
t1 = round(qnorm(seq(0, 1, by=1/orden), 
            mean = mean(m1_bin), sd = sd(m1_bin)), 1)
q2 = quantile(m2_nor, probs = seq(0, 1, by=1/orden), names = FALSE)
t2 = round(qnorm(seq(0, 1, by=1/orden), 
            mean = mean(m2_nor), sd = sd(m2_nor)), 1)
q3 = quantile(m3_poi, probs = seq(0, 1, by=1/orden), names = FALSE)
t3 = round(qnorm(seq(0, 1, by=1/orden), 
            mean = mean(m3_poi), sd = sd(m3_poi)), 1)
data.frame(muestra_1= &quot;&quot;, q1, t1, muestra_2 = &quot;&quot;, q2, t2, 
           muestra_3 = &quot;&quot;, q3, t3)</code></pre>
<pre><code>##    muestra_1 q1   t1 muestra_2   q2   t2 muestra_3 q3   t3
## 1             1 -Inf           2.60 -Inf            0 -Inf
## 2             3  3.1           3.80  3.8            2  2.0
## 3             4  3.8           4.10  4.2            3  3.1
## 4             4  4.3           4.57  4.4            4  3.8
## 5             5  4.8           4.76  4.7            4  4.4
## 6             5  5.2           4.85  4.9            5  5.0
## 7             6  5.6           5.00  5.1            5  5.6
## 8             6  6.0           5.40  5.4            6  6.3
## 9             6  6.5           5.72  5.7            7  7.0
## 10            7  7.3           6.11  6.1            8  8.0
## 11            9  Inf           7.00  Inf           11  Inf</code></pre>
<p>En cada muestra encontramos algún cuantil idéntico al teórico y alguno claramente diferente; con un poco más de experiencia podríamos notar que los cuantiles teóricos nunca se repiten y que sólo en la segunda muestra los cuantiles tienen esa propiedad, pero incluso notando esto no sabríamos si darlo por definitivo o no.</p>
<p>Necesitamos, en definitiva, alguna herramienta más práctica para decidirnos a opinar sobre si alguna de las muestras es aproximadamente normal o no.</p>
<p>Las funciones “qqplot” y “qqline” (siempre se utilizan juntas) muestras los cuantiles de la muestra junto con un línea diagonal que representa los cuantiles téoricos. Los cuantiles que tocan la diagonal coinciden con los teóricos y, en general, cuando la diagonal parece ejercer una clara “atracción” sobre los cuantiles de la muestra diremos que esta es aproximadamente normal.</p>
<pre class="r"><code>qqnorm(m1_bin, main=&quot;Muestra 1&quot;)
qqline(m1_bin)</code></pre>
<p><img src="06_Statistical_Inference_055_cuantiles_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>qqnorm(m2_nor, main=&quot;Muestra 2&quot;)
qqline(m2_nor)</code></pre>
<p><img src="06_Statistical_Inference_055_cuantiles_files/figure-html/unnamed-chunk-6-2.png" width="672" /></p>
<pre class="r"><code>qqnorm(m3_poi, main=&quot;Muestra 3&quot;)
qqline(m3_poi)</code></pre>
<p><img src="06_Statistical_Inference_055_cuantiles_files/figure-html/unnamed-chunk-6-3.png" width="672" /> En el “qqplot” de las muestras 1 y 3 vemos una especie de “nubes de cuantiles” que tocan la diagonal en algún momento pero, en general, no se desvían hacia ella. En cambio, los cuantiles de la muestra 2 sí que parecen sentirse “atraídos” por la diagonal, subiendo y bajando de ella ligera pero contínuamente. Concluimos que sólo la muestra 2 parece aproximadamente normal.</p>
<p>Como complemento a esta técnica gráfica tenemos una prueba puramente numérica: la prueba de Shapiro-Wilk que en R se realiza con la función “shapiro.test”. Esta prueba devuelve una probabilidad o “p-valor”, entre 0 y 1, que se interpreta como la admisibilidad de que la muestra sea aproximadamente normal. Se suele requerir un p-valor superior a 0.05, es decir, una admisibilidad de más del 5%:</p>
<pre class="r"><code>round( shapiro.test(x = m1_bin)$p.value  ,2)</code></pre>
<pre><code>## [1] 0.01</code></pre>
<pre class="r"><code>round( shapiro.test(x = m2_nor)$p.value  ,2)</code></pre>
<pre><code>## [1] 0.36</code></pre>
<pre class="r"><code>round( shapiro.test(x = m3_poi)$p.value  ,2)</code></pre>
<pre><code>## [1] 0.03</code></pre>
<p>La muestra 1 tiene un p-valor de 0.01 (admisibilidad de la hipótesis de normalidad de un 1%); la muestra 3 tiene un p-valor de 0.03 (admisibilidad del 3%). Entonces, descartamos la hipótesis de que estas muestras pueden venir de una población aproximadamente normal.</p>
<p>En cambio, la muestra 2 tiene un p-valor superior a 0.05: el p-valor es de 0.36 (admisibilidad del 36%). Entonces, es admisible pensar que la muestra 2 ha sido tomada de una población aproximadamente normal.</p>
<p>Se suele recomendar que no nos limitemos a la prueba grafica (qqplot) o a la prueba numérica (shapiro) sino que hagamos las dos y sólo tomemos una decisión si ambas pruebas están de acuerdo, como en estas tres muestras que hemos utilizado.</p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
